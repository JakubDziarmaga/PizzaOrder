<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Getting Started: Handling Form Submission</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
	<a th:href="@{'/'}">home</a>

	<div th:if="${actualUser} != null">
		<div th:if="${actualUser.getAuthorities().toString().equals('[ROLE_RESTAURANT_OWNER]')}">
			<a th:href="@{'/restaurantOwner'}">restaurantOwnerPage</a>
		</div>
		<form th:action="@{/logout}" method="POST">
			<input type="submit" value="Logout" />
		</form>
	</div>
	
	<form method="POST" th:object="${menu}">
		<table>
			<tr>
				<td>Name:</td>
				<td><input type="text" th:field="*{name}" /></td>
				<td th:if="${#fields.hasErrors('name')}" th:errors="*{name}">Name Error</td>
			</tr>
			<tr>
				<td>Price:</td>
				<td><input type="number" th:field="*{price}" /></td>
				<td th:if="${#fields.hasErrors('price')}" th:errors="*{price}">Price Error</td>
			</tr>
			<tr>
				<td>Ingredients:</td>
				<td th:if="${#fields.hasErrors('ingredients')}" th:errors="*{ingredients}">Ingredients Error</td>
			</tr>
			<tr th:each="ingredient : ${ingredients}">
				<td>	<input
					type="checkbox" th:field="${menu.ingredients}"
					th:value="${ingredient.id}" /><label th:text="${ingredient.name}">Name of ingredient</label></td>
			</tr>
			<tr>
				<td><button type="submit">Add</button></td>
			</tr>
		</table>
	</form>

</body>
</html>