<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>User</title>
</head>
<body>
	<a th:href="@{'/'}">home</a>

	<p th:text="${error}"></p>

	<p th:text="${actualUser.getUsername()}"></p>
	<form th:action="@{/logout}" method="POST">
		<input type="submit" value="Logout" />
	</form>

<!-- Show list of all indents belong to user -->
	<table>
		<tr th:each="indent : ${indents}">
			<td th:text="${indent.getId()}">indentId</td>
			<td th:text="${indent.isPaid()}">indentIsPaid</td>
			<td th:text="${indent.getMenu().getPrice()}">inentPrice</td>
			<td th:each="ingredients : ${indent.getMenu().getIngredients()}">
				<p th:text="${ingredients.name}">ingredientName</p>
			</td>
			<td>
				<div th:unless="${indent.isPaid()}">
					<form th:action="@{'/indent/pay/'+${(indent.getId())}}"
						method="GET">
						<input type="submit" value="Pay" />
					</form>
					<form th:action="@{'indent/delete/'+${(indent.getId())}}"
						method="GET">
						<input type="submit" value="Delete" />
					</form>
				</div>
				<div th:if="${indent.isPaid()}">
					<p th:text="${indent.getFormattedDate()}">Date</p>
				</div>
			</td>
		</tr>
	</table>

</body>
</html>